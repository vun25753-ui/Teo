-- vudz (LocalScript) - đặt vào StarterPlayer > StarterPlayerScripts
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local hrp = character:WaitForChild("HumanoidRootPart")

local flying = false
local SPEED = 80              -- tốc độ bay (studs/giây), chỉnh theo ý bạn
local ACCEL = 2000            -- gia tốc cho BodyVelocity.P

local bodyVelocity
local bodyGyro

local keys = {W=false, A=false, S=false, D=false, Space=false, LeftControl=false}

local function createControllers()
    if bodyVelocity or bodyGyro then return end

    bodyVelocity = Instance.new("BodyVelocity")
    bodyVelocity.MaxForce = Vector3.new(1e5, 1e5, 1e5)
    bodyVelocity.P = ACCEL
    bodyVelocity.Velocity = Vector3.new(0,0,0)
    bodyVelocity.Parent = hrp

    bodyGyro = Instance.new("BodyGyro")
    bodyGyro.MaxTorque = Vector3.new(1e5, 1e5, 1e5)
    bodyGyro.P = 3000
    bodyGyro.CFrame = hrp.CFrame
    bodyGyro.Parent = hrp

    humanoid.PlatformStand = true
end

local function destroyControllers()
    if bodyVelocity then bodyVelocity:Destroy(); bodyVelocity = nil end
    if bodyGyro then bodyGyro:Destroy(); bodyGyro = nil end
    humanoid.PlatformStand = false
end

local function toggleFly()
    if flyinga